# TIL

#### 220728

일하는 날 이사를 하느라 25, 26, 27은 TIL 패스.. 27은 그래도 프로젝트 코드라도 commit 했지만 끊겨서 조금 아쉽다 ㅠㅠ
그치만 삶이 바쁜지라.. 다 잡으려다 아무것도 못 잡을 수도 있기 때문에 과감하게 포기. 아무튼 이제 오늘 몰아서 코테를 보고 프로젝트 2 진도를 주르륵 나갔다. 거의 하루 종일 잡혀있었던 덕분에 이제는 끝이 보이기 시작한다.

다시 공부를 시작한 지 어느덧 반 년 근육과 체력이 많이 줄었다. 폴 타는게 전과 같지 않다. 무거운 걸 잘 못 들게 됐다. (죄송한데 이거 좀 도와주세요가 입에 붙어버림) 유연성이 많이 떨어졌다. (사이드 다리 찢기가 거의 ㅡ에서 다시 ㅅ모양 된듯) 이 정도면 부캠 끝날 때쯤 거의 고무같은 뻣뻣함과 종이인형급 부실함이겠는데..? 이게 맞냐..? 일하는 날 새벽부터 pt 받고 쉬는 날 하루에 6 ~ 8시간씩 폴타던 나는 평행세계 어딘가에 있을까..? 오...첼로 다 까먹은듯.. 베이킹 재료 다 내다버림.. 피아노 안 그래도 손 굳어가는데 더 굳어감 ㅠㅠ 근데 그래도 모.. 행보케.. 개발이 재밌긴 햐 ~~ 일단 나 자신아 화이팅..! 

#### MOCKING

Mocking이란? 테스트 하고자 하는 코드가 의존하는 function이나 class에 대해 모조품을 만들어 일단 돌아가도록 만드는 것이다.
단위 테스트를 작성할 때 해당 코드가 의존하는 부분을 가짜로 대체하는 기법!

왜? 테스트를 하고자 하는 기능이 다른 기능이 엮여있을 때 의존성으로 인해 정확한 테스트를 하기 힘들기 때문!

데이터 베이스에 넣는 메소드 자체를 mock 함수로 구성한다.
리턴값을 정말로 db에서 넣어 반환된 값을 직접 지정한다.
=> 실제 db 트랙잭션은 일어나지 않았지만 일어난 것처럼 동작
=> mock 함수의 반환 값을 가지고 이제 함수를 테스트 하면 된다.

1. 테스트 더블 - mock 객체와 유사, 좀 더 상위 의미
2. 더미 객체 - 인스턴스화 될 수 있는 수준으로만 객체 구현, 해당 객체의 기능까지는 필요없을 때 사용
3. 테스트 스텁 - 더미 객체보단 좀 더 구현된 객체로 더미 객체가 실제로 동작하는 것처럼 보이게 만든 객체, 특정 상태를 가정해서 하드 코딩, 어떤 행위가 호출됐을 때 특정 값으로 리턴해주는 형태가 stub이다.
4. 페이크 객체 - 여러 상태를 대표할 수 있도록 구현한 객체로 실제 로직이 구현된 것처럼 보이게 한다. 실제 db에 접속해서 비교할 때와 동일한 모양이 보이도록 객체 내부에 구현
5. 테스트 스파이 - 테스트에 사용되는 객체, 메소드의 사용 여부 및 정상 호출 여부를 기록하고 요청시 알려준다.
6. mock 객체 - 행위를 검증하기 위해 사용되는 객체를 지칭하며 수동 또는 프레임워크로 생성 가능.

Mock Object는 행위 검증에 사용하고, Stub은 상태 검증에 사용한다.
