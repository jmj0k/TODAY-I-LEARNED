# TIL

#### 220730

#### JPA

@MappedSuperClass는 DB의 상속관계 매핑과는 관련이 없다.
예를 들어 모든 클래스에서 A라는 속성을 가져야할 때 각 클래스에 모두 A라는 필드를 붙여줄 수도 있지만 상속받도록 하는 것이 효과적이다. 공통된 필드를 사용하기 위해 상속을 받는 것, DB 상에서는 모든 테이블에 A가 들어있는 구조로 설계될 것이다. MappedSuperClass는 위처럼 공통된 매핑 정보가 필요할 때 사용한다.

@Builder는 상속 관계에서는 동작하지 않는다. builder로 객체를 빌드할 때 부모의 필드는 사용할 수가 없는 것이다. (빨간 줄에 맘 아파했음..) 이때 사용하는데 SuperBuilder다. SuperBuilder는 자식이 부모의 필드까지 빌더 패턴으로 사용하게 해준다.
대신 한쪽에만 super를 선언하면 컴파일 오류가 발생한다. 엮여있는 모든 클래스에 super 선언을 해줘야 하는 것이다.
